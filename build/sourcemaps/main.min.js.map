{"version":3,"sources":["01_main.js"],"names":["arw","booksButton","document","querySelectorAll","booksButtonHideCont","closeBookButton","forEach","elem","index","addEventListener","console","log","classList","remove","add","listLink","overflowNew","querySelector","burgerButton","sidebarClose","taggleButton","sidebar","this","toggle","window","innerWidth","SimpleBar","ChangerText","[object Object]","config","selector","text","changeText","init","textContent","actChange","newsSlider","Swiper","slidesPerView","navigation","nextEl","prevEl","grabCursor","breakpoints","320","spaceBetween","1200","reviewsSlider","768","contentBookSlider","contentBookBtnSlider","topSectionSlider","reviewsVideo","Parallax","elements","wrapper","layers","scale","_init","event","parallaxLeftOffset","getBoundingClientRect","left","parallaxTopOffset","top","coordX","clientX","offsetWidth","coordY","clientY","offsetHeight","layer","layerSpeed","dataset","speed","x","toFixed","y","setAttribute","e","calculateParallax","reset","ItcTabs","target","_config","Object","assign","_elTabs","_elButtons","_elPanes","_eventShow","Event","_events","el","elLinkTarget","elPaneTarget","elLinkActive","elPaneShow","dispatchEvent","focus","show","closest","preventDefault","tabsRev","tabsBooks","contentBook"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["let booksButton = document.querySelectorAll(\".button-book\");\r\nlet booksButtonHideCont = document.querySelectorAll(\".books-card__hide-cont\");\r\nlet closeBookButton = document.querySelectorAll(\".close-books-card\");\r\nlet arw;\r\nbooksButton.forEach((elem, index) => {\r\n  elem.addEventListener(\"click\", () => {\r\n    console.log(arw, index);\r\n    if (arw) {\r\n      booksButtonHideCont[arw].classList.remove(\r\n        \"books-card__hide-cont--active\"\r\n      );\r\n    } else {\r\n      booksButtonHideCont[0].classList.remove(\"books-card__hide-cont--active\");\r\n    }\r\n    booksButtonHideCont[index].classList.add(\"books-card__hide-cont--active\");\r\n    arw = index;\r\n    console.log(arw, index);\r\n  });\r\n});\r\n\r\ncloseBookButton.forEach((elem, index) => {\r\n  elem.addEventListener(\"click\", () => {\r\n    booksButtonHideCont[index - 1].classList.remove(\r\n      \"books-card__hide-cont--active\"\r\n    );\r\n  });\r\n});\r\n\r\nlet listLink = document.querySelectorAll(\".header-nav__item-link\");\r\nlet overflowNew = document.querySelector(\".over-new\");\r\nlet burgerButton = document.querySelector(\".burger-button\");\r\nlet sidebarClose = document.querySelector(\".burger-button-close\");\r\nburgerButton.addEventListener(\"click\", taggleButton);\r\nlet sidebar = document.querySelector(\".header-nav\");\r\nfunction taggleButton() {\r\n  this.classList.toggle(\"change\");\r\n  sidebar.classList.toggle(\"show\");\r\n  overflowNew.classList.add(\"active\");\r\n}\r\n\r\nif (window.innerWidth < 1440) {\r\n  listLink.forEach((elem, index) => {\r\n    elem.addEventListener(\"click\", () => {\r\n      sidebar.classList.remove(\"show\");\r\n      overflowNew.classList.remove(\"active\");\r\n    });\r\n  });\r\n}\r\n\r\noverflowNew.addEventListener(\"click\", () => {\r\n  burgerButton.classList.remove(\"change\");\r\n  sidebar.classList.remove(\"show\");\r\n  overflowNew.classList.remove(\"active\");\r\n});\r\n\r\nsidebarClose.addEventListener(\"click\", () => {\r\n  burgerButton.classList.remove(\"change\");\r\n  sidebar.classList.remove(\"show\");\r\n  overflowNew.classList.remove(\"active\");\r\n});\r\ndocument.querySelectorAll(\".madal-cart__scroller\").forEach((elem, index) => {\r\n  new SimpleBar(elem);\r\n});\r\n\r\n\r\n\r\ndocument.querySelectorAll(\".books-card__scroll-box\").forEach((elem, index) => {\r\n  new SimpleBar(elem);\r\n});\r\n\r\ndocument.querySelectorAll(\".inner-scroll\").forEach((elem, index) => {\r\n  new SimpleBar(elem);\r\n});\r\n\r\ndocument\r\n  .querySelectorAll(\".content-book-slider__text > div\")\r\n  .forEach((elem, index) => {\r\n    new SimpleBar(elem);\r\n  });\r\nclass ChangerText {\r\n  constructor(config) {\r\n    this.selector = config.selector;\r\n    this.text = config.text;\r\n    this.changeText = config.changeText;\r\n    this.init();\r\n  }\r\n  actChange(elem) {\r\n    switch (elem.textContent) {\r\n      case this.changeText:\r\n        elem.textContent = this.text;\r\n        break;\r\n      case this.text:\r\n        elem.textContent = this.changeText;\r\n        break;\r\n    }\r\n  }\r\n  init() {\r\n    document.querySelectorAll(this.selector).forEach((elem, index) => {\r\n      elem.textContent = this.text;\r\n      elem.addEventListener(\"click\", () => {\r\n        this.actChange(elem);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nnew ChangerText({\r\n  selector: \".btn-expand\",\r\n  text: \"Прочесть далее\",\r\n  changeText: \"Свернуть\",\r\n});\r\nnew ChangerText({\r\n  selector: \".btn-expands\",\r\n  text: \"Развернуть еще\",\r\n  changeText: \"Свернуть\",\r\n});\r\n\r\nconst newsSlider = new Swiper(\".news-slider\", {\r\n  slidesPerView: \"auto\",\r\n  navigation: {\r\n    nextEl: \".news-slider-next\",\r\n    prevEl: \".news-slider-prev\",\r\n  },\r\n  grabCursor: true,\r\n  breakpoints: {\r\n    320: {\r\n      spaceBetween: 15,\r\n    },\r\n    1200: {\r\n      spaceBetween: 30,\r\n    },\r\n  },\r\n});\r\n\r\nconst reviewsSlider = new Swiper(\".reviews-slider\", {\r\n  slidesPerView: \"auto\",\r\n  navigation: {\r\n    nextEl: \".reviews-slider-next\",\r\n    prevEl: \".reviews-slider-prev\",\r\n  },\r\n  grabCursor: true,\r\n  breakpoints: {\r\n    320: {\r\n      spaceBetween: 15,\r\n    },\r\n    768: {\r\n      spaceBetween: 30,\r\n    },\r\n  },\r\n});\r\nconst contentBookSlider = new Swiper(\".content-book-slider\", {\r\n  slidesPerView: \"auto\",\r\n  navigation: {\r\n    nextEl: \".content-book-slider-next\",\r\n    prevEl: \".content-book-slider-prev\",\r\n  },\r\n  grabCursor: true,\r\n  \r\n});\r\n\r\n\r\nconst contentBookBtnSlider = new Swiper(\".content-book-btn-slider\", {\r\n  slidesPerView: \"auto\",\r\n  navigation: {\r\n    nextEl: \".content-book-btn-slider-next\",\r\n    prevEl: \".content-book-btn-slider-prev\",\r\n  },\r\n  grabCursor: true,\r\n  breakpoints: {\r\n    320: {\r\n      spaceBetween: 15,\r\n    },\r\n    768: {\r\n      spaceBetween: 30,\r\n    },\r\n  },\r\n});\r\n\r\nconst topSectionSlider = new Swiper(\".top-section-slider\", {\r\n  slidesPerView: \"auto\",\r\n  navigation: {\r\n    nextEl: \".top-section-slider-next\",\r\n    prevEl: \".top-section-slider-prev\",\r\n  },\r\n  grabCursor: true,\r\n  breakpoints: {\r\n    320: {\r\n      spaceBetween: 15,\r\n    },\r\n    768: {\r\n      spaceBetween: 30,\r\n    },\r\n  },\r\n});\r\n\r\nconst reviewsVideo = new Swiper(\".reviews-video-slider\", {\r\n  slidesPerView: \"auto\",\r\n  navigation: {\r\n    nextEl: \".reviews-video-next\",\r\n    prevEl: \".reviews-video-prev\",\r\n  },\r\n  grabCursor: true,\r\n  breakpoints: {\r\n    320: {\r\n      spaceBetween: 15,\r\n    },\r\n    768: {\r\n      spaceBetween: 30,\r\n    },\r\n  },\r\n});\r\n\r\nclass Parallax {\r\n  constructor(elements) {\r\n    this.wrapper = elements.wrapper;\r\n    this.layers = elements.layers;\r\n    this.scale = elements.scale;\r\n    this._init();\r\n  }\r\n  calculateParallax(event) {\r\n    const parallaxLeftOffset = this.wrapper.getBoundingClientRect().left;\r\n    const parallaxTopOffset = this.wrapper.getBoundingClientRect().top;\r\n    const coordX =\r\n      event.clientX - parallaxLeftOffset - 0.5 * this.wrapper.offsetWidth;\r\n    const coordY =\r\n      event.clientY - parallaxTopOffset - 0.5 * this.wrapper.offsetHeight;\r\n    this.layers.forEach((layer) => {\r\n      const layerSpeed = layer.dataset.speed;\r\n      const x = -(coordX * layerSpeed).toFixed(2);\r\n      const y = -(coordY * layerSpeed).toFixed(2);\r\n      layer.setAttribute(\r\n        \"style\",\r\n        `transform: translate(${x}px, ${y}px) ${\r\n          this.scale ? `scale(${this.scale})` : \"\"\r\n        };transition: .1s ease`\r\n      );\r\n    });\r\n  }\r\n  reset(e) {\r\n    this.layers.forEach((layer) => {\r\n      layer.setAttribute(\r\n        \"style\",\r\n        `transform: translate(0px, 0px);transition: .1s ease`\r\n      );\r\n    });\r\n  }\r\n  _init() {\r\n    console.log(this.wrapper, this.layers);\r\n\r\n    this.wrapper.addEventListener(\"mousemove\", (e) => {\r\n      this.calculateParallax(e);\r\n    });\r\n    this.wrapper.addEventListener(\"mouseout\", (e) => {\r\n      this.reset(e);\r\n    });\r\n  }\r\n}\r\n\r\nnew Parallax({\r\n  wrapper: document.querySelector(\".top-section\"),\r\n  layers: document.querySelectorAll(\".top-section-block__image\"),\r\n});\r\n\r\nif (window.innerWidth > 992) {\r\n  new Parallax({\r\n    wrapper: document.querySelector(\".form-news\"),\r\n    layers: document.querySelectorAll(\".form-news__inner-image > img\"),\r\n  });\r\n}\r\n\r\n/* let elems = document.querySelectorAll(\".news-block__bg-image\")\r\ndocument.querySelectorAll(\".news .swiper-slide\").forEach((elem, index) => {\r\n\r\n  new Parallax({\r\n  wrapper: elem,\r\n  layers: elems[index],\r\n  scale: 1.1,\r\n});\r\n}) */\r\n\r\nclass ItcTabs {\r\n  constructor(target, config) {\r\n    const defaultConfig = {};\r\n    this._config = Object.assign(defaultConfig, config);\r\n    this._elTabs =\r\n      typeof target === \"string\" ? document.querySelector(target) : target;\r\n    this._elButtons = this._elTabs.querySelectorAll(\".tabs__btn\");\r\n    this._elPanes = this._elTabs.querySelectorAll(\".tabs__pane\");\r\n    this._eventShow = new Event(\"tab.itc.change\");\r\n    this._init();\r\n    this._events();\r\n  }\r\n  _init() {\r\n    this._elTabs.setAttribute(\"role\", \"tablist\");\r\n    this._elButtons.forEach((el, index) => {\r\n      el.dataset.index = index;\r\n      el.setAttribute(\"role\", \"tab\");\r\n      this._elPanes[index].setAttribute(\"role\", \"tabpanel\");\r\n    });\r\n  }\r\n  show(elLinkTarget) {\r\n    const elPaneTarget = this._elPanes[elLinkTarget.dataset.index];\r\n    const elLinkActive = this._elTabs.querySelector(\".tabs__btn--active\");\r\n    const elPaneShow = this._elTabs.querySelector(\".tabs__pane--show\");\r\n    if (elLinkTarget === elLinkActive) {\r\n      return;\r\n    }\r\n    elLinkActive ? elLinkActive.classList.remove(\"tabs__btn--active\") : null;\r\n    elPaneShow ? elPaneShow.classList.remove(\"tabs__pane--show\") : null;\r\n    elLinkTarget.classList.add(\"tabs__btn--active\");\r\n    elPaneTarget.classList.add(\"tabs__pane--show\");\r\n    this._elTabs.dispatchEvent(this._eventShow);\r\n    elLinkTarget.focus();\r\n  }\r\n  showByIndex(index) {\r\n    const elLinkTarget = this._elButtons[index];\r\n    elLinkTarget ? this.show(elLinkTarget) : null;\r\n  }\r\n  _events() {\r\n    this._elTabs.addEventListener(\"click\", (e) => {\r\n      const target = e.target.closest(\".tabs__btn\");\r\n      if (target) {\r\n        e.preventDefault();\r\n        this.show(target);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nconst tabsRev = document.querySelectorAll(\".tabs\");\r\ntabsRev.forEach((el, index) => {\r\n  new ItcTabs(tabsRev[index]);\r\n});\r\nconst tabsBooks = document.querySelectorAll(\".tabs-books\");\r\ntabsBooks.forEach((el, index) => {\r\n  new ItcTabs(tabsBooks[index]);\r\n});\r\n\r\nconst contentBook = document.querySelectorAll(\".content-book\");\r\ncontentBook.forEach((el, index) => {\r\n  new ItcTabs(contentBook[index]);\r\n});\r\n"]}